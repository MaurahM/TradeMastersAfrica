<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Intelligence â€¢ Trade Masters Reports</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #020617;
      --surface: #0f172a;
      --accent: #6366f1;
      --accent-glow: rgba(99, 102, 241, 0.2);
      --emerald: #10b981;
      --text-main: #f8fafc;
      --text-dim: #94a3b8;
      --border: rgba(255, 255, 255, 0.08);
      --radius: 16px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Plus Jakarta Sans', sans-serif; }

    body {
      background-color: var(--bg);
      background-image: 
        radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.1) 0px, transparent 50%),
        radial-gradient(at 100% 0%, rgba(45, 212, 191, 0.05) 0px, transparent 50%);
      color: var(--text-main);
      min-height: 100vh;
      padding: 24px;
    }

    .wrap { max-width: 1400px; margin: 0 auto; }

    /* Header */
    header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 32px;
    }
    .branding { display: flex; align-items: center; gap: 16px; }
    .logo-mark {
      width: 44px; height: 44px; background: linear-gradient(135deg, var(--accent), #a855f7);
      border-radius: 12px; display: flex; align-items: center; justify-content: center;
      font-weight: 800; color: white; box-shadow: 0 0 20px var(--accent-glow);
    }

    /* Controls Bar */
    .controls {
      background: var(--surface); border: 1px solid var(--border);
      padding: 16px 24px; border-radius: var(--radius);
      display: flex; gap: 20px; align-items: center; flex-wrap: wrap;
      margin-bottom: 24px;
    }
    .controls input, .controls select {
      background: rgba(0,0,0,0.2); border: 1px solid var(--border);
      color: white; padding: 10px 14px; border-radius: 10px; outline: none;
    }
    .controls label { font-size: 12px; font-weight: 700; color: var(--text-dim); text-transform: uppercase; }

    /* Key Metrics */
    .metrics {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 16px; margin-bottom: 24px;
    }
    .metric-card {
      background: var(--surface); border: 1px solid var(--border);
      padding: 24px; border-radius: var(--radius); transition: 0.3s;
    }
    .metric-card:hover { border-color: var(--accent); transform: translateY(-3px); }
    .metric-card .label { font-size: 12px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
    .metric-card .value { font-size: 28px; font-weight: 800; font-family: 'Courier New', Courier, monospace; }

    /* Layout */
    .report-grid { display: grid; grid-template-columns: 1fr 340px; gap: 24px; }

    .panel {
      background: var(--surface); border: 1px solid var(--border);
      border-radius: var(--radius); padding: 24px;
    }

    /* Modern Bar Chart */
    #chart { height: 240px; display: flex; align-items: flex-end; gap: 8px; margin-top: 20px; }
    .bar {
      flex: 1; background: linear-gradient(to top, var(--accent), #818cf8);
      border-radius: 6px 6px 2px 2px; position: relative; transition: 0.3s;
    }
    .bar:hover { filter: brightness(1.2); cursor: pointer; }

    /* Table styling */
    table { width: 100%; border-collapse: collapse; margin-top: 16px; }
    th { text-align: left; padding: 12px; font-size: 11px; color: var(--text-dim); text-transform: uppercase; border-bottom: 1px solid var(--border); }
    td { padding: 14px 12px; border-bottom: 1px solid var(--border); font-size: 14px; }
    tr:last-child td { border: none; }

    /* Buttons */
    .btn {
      background: var(--accent); color: white; border: none; padding: 10px 20px;
      border-radius: 10px; font-weight: 700; cursor: pointer; transition: 0.2s;
    }
    .btn:hover { background: #4f46e5; box-shadow: 0 4px 12px var(--accent-glow); }
    .btn-ghost {
      background: transparent; color: var(--text-dim); border: 1px solid var(--border);
      padding: 10px 20px; border-radius: 10px; cursor: pointer; transition: 0.2s;
    }
    .btn-ghost:hover { color: white; background: rgba(255,255,255,0.05); }

    /* Activity List */
    .activity-item {
      padding: 12px; border-radius: 10px; background: rgba(255,255,255,0.02);
      margin-bottom: 8px; font-size: 13px; border-left: 3px solid var(--accent);
    }

    footer {
      margin-top: 40px; padding-top: 20px; border-top: 1px solid var(--border);
      color: var(--text-dim); font-size: 12px; display: flex; justify-content: space-between;
    }

    @media (max-width: 1000px) { .report-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="branding">
        <div class="logo-mark">IQ</div>
        <div>
          <h1 style="font-size: 20px; font-weight: 800;">Analytics Suite</h1>
          <p style="font-size: 12px; color: var(--text-dim);">Financial Intelligence & Reporting</p>
        </div>
      </div>
      <div style="display:flex; gap:12px;">
        <button class="btn-ghost" onclick="location.href='admindashboard.html'">Back to Core</button>
        <button class="btn" onclick="exportAll()">Download Raw Data</button>
      </div>
    </header>

    <div class="controls">
      <div>
        <label>Start Date</label><br>
        <input id="from" type="date">
      </div>
      <div>
        <label>End Date</label><br>
        <input id="to" type="date">
      </div>
      <div>
        <label>Aggregation</label><br>
        <select id="groupBy">
          <option value="day">Daily View</option>
          <option value="week">Weekly View</option>
          <option value="month">Monthly View</option>
        </select>
      </div>
      <button class="btn" style="align-self: flex-end;" onclick="applyFilters()">Refresh Data</button>
      <div style="margin-left: auto; text-align: right;">
        <div style="font-size: 11px; color: var(--text-dim);">FILTER STATUS</div>
        <div id="rangeLabel" style="font-size: 13px; font-weight: 700; color: var(--emerald);">Active Range: 14 Days</div>
      </div>
    </div>

    <div class="metrics">
      <div class="metric-card">
        <div class="label">Gross Revenue</div>
        <div class="value" id="rev" style="color: var(--emerald);">$0.00</div>
      </div>
      <div class="metric-card">
        <div class="label">Total Enrollments</div>
        <div class="value" id="enr">0</div>
      </div>
      <div class="metric-card">
        <div class="label">Market Reach</div>
        <div class="value" id="act">0</div>
      </div>
      <div class="metric-card">
        <div class="label">Path Completion</div>
        <div class="value" id="avg" style="color: var(--accent);">0%</div>
      </div>
    </div>

    <div class="report-grid">
      <div class="main-report">
        <div class="panel">
          <h3 style="font-size: 16px; font-weight: 700;">Enrollment Velocity</h3>
          <div id="chart"></div>
          <div style="display:flex; justify-content:space-between; margin-top: 16px;" id="chartLabels"></div>
        </div>

        <div class="panel" style="margin-top:24px;">
          <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 10px;">Highest Performing Paths</h3>
          <table>
            <thead>
              <tr><th>Curriculum</th><th>Volume</th><th>Net Revenue</th></tr>
            </thead>
            <tbody id="topBody"></tbody>
          </table>
        </div>
      </div>

      <aside>
        <div class="panel">
          <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">System Actions</h3>
          <div style="display:flex; flex-direction:column; gap:10px;">
            <button class="btn" onclick="exportAll()">ðŸ“Š Export to Excel (.csv)</button>
            <button class="btn-ghost" onclick="downloadPDF()">ðŸ“‘ Generate PDF Briefing</button>
            <button class="btn-ghost" onclick="sendReport()">ðŸ“§ Email Stakeholders</button>
          </div>
        </div>

        <div class="panel" style="margin-top:24px;">
          <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">Live Ledger</h3>
          <div id="activityList"></div>
        </div>
      </aside>
    </div>

    <footer>
      <div>Generated via Trade Masters Nexus â€” <span id="generatedAt"></span></div>
      <div style="display:flex; gap:16px;">
        <a href="#" style="color:inherit; text-decoration: none;">API Access</a>
        <a href="#" style="color:inherit; text-decoration: none;">Privacy Protocol</a>
      </div>
    </footer>
  </div>

  <script>
    const demoData = {
      labels: ['M','T','W','T','F','S','S','M','T','W','T','F','S','S'],
      enrollments: [120, 150, 180, 140, 210, 280, 250, 220, 260, 310, 290, 340, 390, 320],
      revenue: Array.from({length:14},()=>Math.floor(Math.random()*800)+200),
      top: [
        {title:'Full-Stack Mastery', enroll:'1,200', revenue:71000},
        {title:'UI/UX Architecture', enroll:'980', revenue:42000},
        {title:'SEO Blackbelt', enroll:'720', revenue:28000}
      ],
      activity:[
        'Node Deployment: Advanced Python', 'Revenue Inbound: $49.00 (Kofi)', 'Audit: Certificate 882 Issued'
      ]
    };

    function renderReport(){
      document.getElementById('generatedAt').textContent = new Date().toLocaleTimeString();
      
      const totalRev = demoData.revenue.reduce((a,b)=>a+b,0);
      const totalEn = demoData.enrollments.reduce((a,b)=>a+b,0);
      
      document.getElementById('rev').textContent = '$' + totalRev.toLocaleString();
      document.getElementById('enr').textContent = totalEn.toLocaleString();
      document.getElementById('act').textContent = '45,230';
      document.getElementById('avg').textContent = '76%';

      const chart = document.getElementById('chart'); chart.innerHTML = '';
      const max = Math.max(...demoData.enrollments);
      demoData.enrollments.forEach((v)=>{
        const b = document.createElement('div'); 
        b.className='bar'; 
        b.style.height = (v/max * 100) + '%'; 
        chart.appendChild(b);
      });

      const labs = document.getElementById('chartLabels'); labs.innerHTML = '';
      demoData.labels.forEach(l=>{ 
        const d = document.createElement('div'); 
        d.style.fontSize='11px'; d.style.color='var(--text-dim)'; 
        d.textContent = l; labs.appendChild(d); 
      });

      const top = document.getElementById('topBody'); top.innerHTML = '';
      demoData.top.forEach(t=>{ 
        top.innerHTML += `<tr><td>${t.title}</td><td>${t.enroll}</td><td style="color:var(--emerald); font-family:monospace;">$${t.revenue.toLocaleString()}</td></tr>`;
      });

      const act = document.getElementById('activityList'); act.innerHTML = '';
      demoData.activity.forEach(it=>{ 
        act.innerHTML += `<div class="activity-item">${it}</div>`;
      });
    }

    function applyFilters() { renderReport(); }
    function exportAll() { alert('Exporting encrypted ledger...'); }
    function downloadPDF() { alert('Synthesizing PDF Report...'); }
    function sendReport() { alert('Report dispatched to administration emails.'); }

    renderReport();
    
    // Set default dates
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('to').value = today;
  </script>
</body>
</html>